"use strict";const hamburger=document.querySelector(".header__hamburger"),hamburgerMenuText=document.querySelector(".header__hamburger-text"),hamburgerMenu=document.querySelector(".header__hamburger-menu"),headerCloseSign=document.querySelector(".header__toggle-menu-cross-sign"),pageBody=document.querySelector(".wooder"),headerToggleMenuLink=document.querySelectorAll(".header__toggle-menu-link");function hamburgerToggle(){pageBody.classList.add("opacity_off"),hamburgerMenu.style.cursor="auto",setTimeout((()=>{hamburgerMenu.classList.add("active"),pageBody.style.overflow="hidden",pageBody.classList.remove("opacity_off")}),500)}function closeMenu(){pageBody.classList.add("opacity_off"),setTimeout((()=>{hamburgerMenu.classList.remove("active"),pageBody.classList.remove("opacity_off"),pageBody.style.overflow="visible"}),500),hamburgerMenu.style.cursor="pointer"}hamburger.addEventListener("click",hamburgerToggle),hamburgerMenuText.addEventListener("click",hamburgerToggle),headerCloseSign.addEventListener("click",(()=>{closeMenu()})),headerToggleMenuLink.forEach((e=>{e.addEventListener("click",(()=>{closeMenu()}))}));const bannerBtn=document.querySelector(".banner__button"),firebaseConfig={apiKey:"AIzaSyA4apyHWSRjMvYyvrzegqNv5weVktk-XMs",authDomain:"wooder-1fb11.firebaseapp.com",projectId:"wooder-1fb11",storageBucket:"wooder-1fb11.appspot.com",messagingSenderId:"852775924188",appId:"1:852775924188:web:5107a8944b53cc1a705f19"};function databaseInit(){return firebase.database().ref("/").once("value")}function createSlides(e){for(let t=0;t<e.length;t++){const n=document.createElement("div");n.classList.add("slider-slide");const a=document.createElement("div");a.classList.add("banner__content"),a.innerHTML=`\n          <div class="banner__title-container">\n              <h2 class="banner__title">${e[t].title}</h2>\n          </div>\n          <div class="banner__text-container">\n              <p class="banner__text">${e[t].text}</p>\n          </div>\n          `,n.appendChild(a),sliderWrapper.appendChild(n)}}function setDirForSlider(){let e="vertical",t=!1;return window.innerWidth<1010&&(e="horizontal",t=!0),window.addEventListener("resize",(()=>{window.innerWidth<1010?!1===t&&(t=!0,location.reload()):!0===t&&(t=!1,location.reload())})),e}function createSlider(e){const t=document.querySelector("#sliderContainer"),n=document.querySelector("#sliderWrapper"),a=document.querySelectorAll(".slider-slide"),i=document.querySelector("#sliderPagination"),s=document.querySelector("#countNumber");let r,o,l,c,d,u,v,f,g,h,m,p,b,L=!1,y=0,_=0,E=!1,M=!1,w=!1,S=!1,x=0;function k(){s.innerText=_+1>=10?`${_+1}`:`0${_+1}`}function q(){d=t.offsetHeight,u=t.offsetWidth}function T(e){var t;e.target.classList.contains("slider-pagination-bullet")&&(function(e){z(e),$()}(t=Number(e.target.dataset.bulletIndex)),I(t),k())}function B(e){let t=document.createElement("span");t.classList.add("slider-pagination-bullet"),t.dataset.bulletIndex=e,i.appendChild(t)}function $(){n.style.transitionDuration="300ms"}function C(){n.style.transitionDuration="0ms"}function z(t){"horizontal"===e?(y=u*t,n.style.transform=`translate3d(${-y}px, 0, 0)`):"vertical"===e&&(y=d*t,n.style.transform=`translate3d(0, ${-y}px, 0)`)}function D(e){a[e].classList.add("active-slide"),b[e].classList.add("active-bullet")}function I(e,t=_){var n;a[n=t].classList.remove("active-slide"),b[n].classList.remove("active-bullet"),D(e),function(e){_=e}(e)}function A(t){if(![t.target.id,t.target.parentElement.id].includes("sliderPagination")&&2!==t.buttons){if(v=(new Date).getTime(),M=!1,L=!0,"300ms"===n.style.transitionDuration){if(x+=1,x>=2&&!a[0].classList.contains("active-slide")&&!a[a.length-1].classList.contains("active-slide"))return;M=!0}else M=!1,y!==u*_&&y!==d*_||(x=0,p=!1,m=!1);if("horizontal"===e){l=t.pageX,r=t.pageY;const e=v-f;if(M){const t=e*((u-Math.abs(c))/300);g?a[a.length-1].classList.contains("active-slide")&&!p?y+=Math.abs(c)-Math.abs(c)/300*e:y=y+(t+Math.abs(c))-u:h&&(y=a[0].classList.contains("active-slide")&&!m?Math.abs(c)/300*e-Math.abs(c):y-(t+Math.abs(c))+u),n.style.transform=`translate3d(${-y}px, 0, 0)`}}else if("vertical"===e){l=t.pageX,r=t.pageY;const e=v-f;if(M){const t=e*((d-Math.abs(o))/300);g?a[a.length-1].classList.contains("active-slide")&&!p?y+=Math.abs(o)-Math.abs(o)/300*e:y=y+(t+Math.abs(o))-d:h&&(y=a[0].classList.contains("active-slide")&&!m?Math.abs(o)/300*e-Math.abs(o):y-(t+Math.abs(o))+d),n.style.transform=`translate3d(0, ${-y}px, 0)`}}C(),t.preventDefault()}}function W(t){if(L){if(t.preventDefault(),"horizontal"===e){const e=t.pageX-l;if(0===e&&!E)return void(L=!1);if(e>0?(h=!0,g=!1):(h=!1,g=!0),e>0&&a[0].classList.contains("active-slide")&&!m||e<0&&a[a.length-1].classList.contains("active-slide")&&!p){const t=2.2;n.style.transform=`translate3d(${-(y-e/t)}px, 0, 0)`,c=e/t}else c=e,n.style.transform=`translate3d(${-(y-e)}px, 0, 0)`}else if("vertical"===e){const e=t.pageY-r;if(0===e&&!E)return console.log("luck"),void(L=!1);if(e>0?(h=!0,g=!1):(h=!1,g=!0),e>0&&a[0].classList.contains("active-slide")&&!m||e<0&&a[a.length-1].classList.contains("active-slide")&&!p){const t=2.2;n.style.transform=`translate3d(0, ${-(y-e/t)}px, 0)`,o=e/t}else o=e,n.style.transform=`translate3d(0, ${-(y-e)}px, 0)`}E=!0}}function P(t){if(!L)return;if(L=!1,t.stopImmediatePropagation(),!E&&!M)return void bannerBtn.setAttribute("href","learn-more.html");bannerBtn.removeAttribute("href"),E=!1,f=(new Date).getTime();const n=f-v;if("horizontal"===e){if(Math.abs(c)<u/2&&n>200&&!M)return a[0].classList.contains("active-slide")&&c>0||a[a.length-1].classList.contains("active-slide")&&c<0?(x=0,X(),void(L=!1)):(x=2,X(),void(L=!1));if(M&&S&&c>0)return m=!1,void X();if(M&&w&&c<0)return p=!1,void X();c>0&&!a[0].classList.contains("active-slide")?(m=!0,Y()):c>0&&a[0].classList.contains("active-slide")?X():c<0&&!a[a.length-1].classList.contains("active-slide")?(p=!0,H()):c<0&&a[a.length-1].classList.contains("active-slide")&&X()}else if("vertical"===e){if(Math.abs(o)<d/2&&n>200&&!M)return a[0].classList.contains("active-slide")&&o>0||a[a.length-1].classList.contains("active-slide")&&o<0?(x=0,X(),void(L=!1)):(x=2,X(),void(L=!1));if(M&&S&&o>0)return m=!1,void X();if(M&&w&&o<0)return p=!1,void X();o>0&&!a[0].classList.contains("active-slide")?(m=!0,Y()):o>0&&a[0].classList.contains("active-slide")?X():o<0&&!a[a.length-1].classList.contains("active-slide")?(p=!0,H()):o<0&&a[a.length-1].classList.contains("active-slide")&&X()}}function X(){z(_),$()}function Y(){const e=_-1,t=_;z(e),I(e,t),$(),h=!0,S=!0,g=!1,w=!1,k()}function H(){const e=_+1,t=_;z(e),I(e,t),$(),h=!1,S=!1,g=!0,w=!0,k()}!function(){for(let e=0;e<a.length;e++)B(e);b=document.querySelectorAll(".slider-pagination-bullet")}(),k(),D(_),window.PointerEvent?(t.addEventListener("pointerdown",A),t.addEventListener("pointermove",W),t.addEventListener("pointerup",P),t.addEventListener("pointercancel",P),t.addEventListener("mouseleave",P)):(t.addEventListener("mousedown",A),t.addEventListener("mousemove",W),t.addEventListener("mouseup",P),t.addEventListener("mouseleave",P),t.addEventListener("touchstart",A),t.addEventListener("touchmove",W),t.addEventListener("touchcancel",P),t.addEventListener("touchend",P)),n.addEventListener("transitionend",C),window.addEventListener("resize",(()=>{q(),z(_)})),i.addEventListener("click",T),q(),t.classList.add("highlight-transparent")}function triggerVideo(e){(e.target.classList.contains("video__button")||e.target.classList.contains("about-wooder__photo"))&&(e.target.parentElement.querySelector(".video__container").style.display="flex"),e.target.classList.contains("video__wrapper")&&(e.target.parentElement.style.display="none")}function allGlobalEventCallbacks(e){triggerVideo(e)}firebase.initializeApp(firebaseConfig),async function(){let e;await databaseInit().then((t=>e=t.val())),createSlides(e.sliderContent);createSlider(setDirForSlider())}(),pageBody.addEventListener("click",allGlobalEventCallbacks);