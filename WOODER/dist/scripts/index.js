"use strict";const hamburger=document.querySelector(".header__hamburger"),hamburgerMenuText=document.querySelector(".header__hamburger-text"),hamburgerMenu=document.querySelector(".header__hamburger-menu"),headerCloseSign=document.querySelector(".header__toggle-menu-cross-sign"),pageBody=document.querySelector(".wooder"),headerToggleMenuLink=document.querySelectorAll(".header__toggle-menu-link");function hamburgerToggle(){pageBody.classList.add("opacity_off"),hamburgerMenu.style.cursor="auto",setTimeout((()=>{hamburgerMenu.classList.add("active"),pageBody.style.overflow="hidden",pageBody.classList.remove("opacity_off")}),500)}function closeMenu(){pageBody.classList.add("opacity_off"),setTimeout((()=>{hamburgerMenu.classList.remove("active"),pageBody.classList.remove("opacity_off"),pageBody.style.overflow="visible"}),500),hamburgerMenu.style.cursor="pointer"}hamburger.addEventListener("click",hamburgerToggle),hamburgerMenuText.addEventListener("click",hamburgerToggle),headerCloseSign.addEventListener("click",(()=>{closeMenu()})),headerToggleMenuLink.forEach((e=>{e.addEventListener("click",(()=>{closeMenu()}))}));const bannerBtn=document.querySelector(".banner__button"),firebaseConfig={apiKey:"AIzaSyA4apyHWSRjMvYyvrzegqNv5weVktk-XMs",authDomain:"wooder-1fb11.firebaseapp.com",projectId:"wooder-1fb11",storageBucket:"wooder-1fb11.appspot.com",messagingSenderId:"852775924188",appId:"1:852775924188:web:5107a8944b53cc1a705f19"};function databaseInit(){return firebase.database().ref("/").once("value")}function createSlides(e){for(let t=0;t<e.length;t++){const s=document.createElement("div");s.classList.add("slider-slide");const a=document.createElement("div");a.classList.add("banner__content"),a.innerHTML=`\n          <div class="banner__title-container">\n              <h2 class="banner__title">${e[t].title}</h2>\n          </div>\n          <div class="banner__text-container">\n              <p class="banner__text">${e[t].text}</p>\n          </div>\n          `,s.appendChild(a),sliderWrapper.appendChild(s)}}function setDirForSlider(){let e="vertical",t=!1;return window.innerWidth<1010&&(e="horizontal",t=!0),window.addEventListener("resize",(()=>{window.innerWidth<1010?!1===t&&(t=!0,location.reload()):!0===t&&(t=!1,location.reload())})),e}function createSlider(e){const t=document.querySelector("#sliderContainer"),s=document.querySelector("#sliderWrapper"),a=document.querySelectorAll(".slider-slide"),n=document.querySelector("#sliderPagination"),i=document.querySelector("#countNumber");let r,l,o,c,d,u,v,m,h,f,g,p=!1,L=0,b=0,y=t.offsetHeight,M=t.offsetWidth,_=!1,E=!1,w=!1,$=!1;t.classList.add("highlight-transparent"),i.innerHTML=b+1>=10?`${b+1}`:`0${b+1}`;for(let e=0;e<a.length;e++){let e=document.createElement("span");e.classList.add("slider-pagination-bullet"),n.appendChild(e)}const S=document.querySelectorAll(".slider-pagination-bullet");S[b].classList.add("active-bullet");for(let t=0;t<S.length;t++)S[t].addEventListener("click",(()=>{"horizontal"===e?(L=M*t,s.style.transform=`translate3d(${-L}px, 0, 0)`):"vertical"===e&&(L=y*t,s.style.transform=`translate3d(0, ${-L}px, 0)`),s.style.transitionDuration="300ms",document.querySelector(".active-slide").classList.remove("active-slide"),document.querySelector(".active-bullet").classList.remove("active-bullet"),a[t].classList.add("active-slide"),S[t].classList.add("active-bullet"),b=t,i.innerHTML=b+1>=10?`${b+1}`:`0${b+1}`}));a[b].classList.add("active-slide"),"horizontal"===e?(L=M*b,s.style.transform=`translate3d(${-L}px, 0, 0)`):"vertical"===e&&(L=y*b,s.style.transform=`translate3d(0, ${-L}px, 0)`);let x=0;const T=t=>{if(![t.target.id,t.target.parentElement.id].includes("sliderPagination")&&2!==t.buttons){if(d=(new Date).getTime(),E=!1,p=!0,"300ms"===s.style.transitionDuration){if(x+=1,x>=2&&!a[0].classList.contains("active-slide")&&!a[a.length-1].classList.contains("active-slide"))return;h=!0}else h=!1,L!==M*b&&L!==y*b||(x=0,g=!1,f=!1);if("horizontal"===e){o=t.pageX;const e=d-u;if(h){E=!0;const t=e*((M-Math.abs(c))/300);v?a[a.length-1].classList.contains("active-slide")&&!g?L+=Math.abs(c)-Math.abs(c)/300*e:L=L+(t+Math.abs(c))-M:m&&(L=a[0].classList.contains("active-slide")&&!f?Math.abs(c)/300*e-Math.abs(c):L-(t+Math.abs(c))+M),s.style.transform=`translate3d(${-L}px, 0, 0)`}}else if("vertical"===e){r=t.pageY;const e=d-u;if(h){E=!0;const t=e*((y-Math.abs(l))/300);v?a[a.length-1].classList.contains("active-slide")&&!g?L+=Math.abs(l)-Math.abs(l)/300*e:L=L+(t+Math.abs(l))-y:m&&(L=a[0].classList.contains("active-slide")&&!f?Math.abs(l)/300*e-Math.abs(l):L-(t+Math.abs(l))+y),s.style.transform=`translate3d(0, ${-L}px, 0)`}}s.style.transitionDuration="0ms",t.preventDefault()}},q=t=>{if(p)if(t.preventDefault(),_=!0,"horizontal"===e){const e=t.pageX-o;if(0===e)return;if(e>0?(m=!0,v=!1):(m=!1,v=!0),e>0&&a[0].classList.contains("active-slide")&&!f||e<0&&a[a.length-1].classList.contains("active-slide")&&!g){const t=2.2;s.style.transform=`translate3d(${-(L-e/t)}px, 0, 0)`,c=e/t}else c=e,s.style.transform=`translate3d(${-(L-e)}px, 0, 0)`}else if("vertical"===e){const e=t.pageY-r;if(0===e)return;if(e>0?(m=!0,v=!1):(m=!1,v=!0),e>0&&a[0].classList.contains("active-slide")&&!f||e<0&&a[a.length-1].classList.contains("active-slide")&&!g){const t=2.2;s.style.transform=`translate3d(0, ${-(L-e/t)}px, 0)`,l=e/t}else l=e,s.style.transform=`translate3d(0, ${-(L-e)}px, 0)`}},D=t=>{if(!p)return;if(p=!1,t.stopImmediatePropagation(),!_&&!E)return void bannerBtn.setAttribute("href","learn-more.html");bannerBtn.removeAttribute("href"),_=!1,h=!0,u=(new Date).getTime();const s=u-d;if("horizontal"===e){if(Math.abs(c)<M/2&&s>200&&!E)return a[0].classList.contains("active-slide")&&c>0||a[a.length-1].classList.contains("active-slide")&&c<0?(x=0,z(),void(p=!1)):(x=2,z(),void(p=!1));if(E&&$&&c>0)return f=!1,void z();if(E&&w&&c<0)return g=!1,void z();c>0&&!a[0].classList.contains("active-slide")?(f=!0,k()):c>0&&a[0].classList.contains("active-slide")?z():c<0&&!a[a.length-1].classList.contains("active-slide")?(g=!0,B()):c<0&&a[a.length-1].classList.contains("active-slide")&&z()}else if("vertical"===e){if(Math.abs(l)<y/2&&s>200&&!E)return a[0].classList.contains("active-slide")&&l>0||a[a.length-1].classList.contains("active-slide")&&l<0?(x=0,z(),void(p=!1)):(x=2,z(),void(p=!1));if(E&&$&&l>0)return f=!1,void z();if(E&&w&&l<0)return g=!1,void z();l>0&&!a[0].classList.contains("active-slide")?(f=!0,k()):l>0&&a[0].classList.contains("active-slide")?z():l<0&&!a[a.length-1].classList.contains("active-slide")?(g=!0,B()):l<0&&a[a.length-1].classList.contains("active-slide")&&z()}};window.addEventListener("resize",(()=>{"horizontal"===e?(M=a[0].offsetWidth,L=M*b,s.style.transform=`translate3d(${-L}px, 0, 0)`):(y=a[0].offsetHeight,L=y*b,s.style.transform=`translate3d(0, ${-L}px, 0)`)}));const z=()=>{"horizontal"===e?(L=M*b,s.style.transform=`translate3d(${-L}px, 0, 0)`,s.style.transitionDuration="300ms"):(L=y*b,s.style.transitionDuration="300ms",s.style.transform=`translate3d(0, ${-L}px, 0)`)},k=()=>{b--,"horizontal"===e?(L=M*b,s.style.transform=`translate3d(${-L}px, 0, 0)`):"vertical"===e&&(L=y*b,s.style.transform=`translate3d(0, ${-L}px, 0)`),a[b+1].classList.remove("active-slide"),a[b].classList.add("active-slide"),S[b+1].classList.remove("active-bullet"),S[b].classList.add("active-bullet"),s.style.transitionDuration="300ms",u=(new Date).getTime(),m=!0,$=!0,v=!1,w=!1,i.innerHTML=b+1>=10?`${b+1}`:`0${b+1}`},B=()=>{b++,"horizontal"===e?(L=M*b,s.style.transform=`translate3d(${-L}px, 0, 0)`):"vertical"===e&&(L=y*b,s.style.transform=`translate3d(0, ${-L}px, 0)`),a[b-1].classList.remove("active-slide"),a[b].classList.add("active-slide"),S[b-1].classList.remove("active-bullet"),S[b].classList.add("active-bullet"),s.style.transitionDuration="300ms",u=(new Date).getTime(),m=!1,$=!1,v=!0,w=!0,i.innerHTML=b+1>=10?`${b+1}`:`0${b+1}`};s.addEventListener("transitionend",(()=>{s.style.transitionDuration="0ms"})),window.PointerEvent?(t.addEventListener("pointerdown",T),t.addEventListener("pointermove",q),t.addEventListener("pointerup",D),t.addEventListener("pointercancel",D),t.addEventListener("mouseleave",D)):(t.addEventListener("mousedown",T),t.addEventListener("mousemove",q),t.addEventListener("mouseup",D),t.addEventListener("mouseleave",D),t.addEventListener("touchstart",T),t.addEventListener("touchmove",q),t.addEventListener("touchcancel",D),t.addEventListener("touchend",D))}function triggerVideo(e){(e.target.classList.contains("video__button")||e.target.classList.contains("about-wooder__photo"))&&(e.target.parentElement.querySelector(".video__wrapper").style.display="flex"),e.target.classList.contains("video__wrapper")&&(e.target.style.display="none")}firebase.initializeApp(firebaseConfig),async function(){let e;await databaseInit().then((t=>e=t.val())),createSlides(e.sliderContent);createSlider(setDirForSlider())}(),pageBody.addEventListener("click",triggerVideo);